<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Receiver and Sender</title>
</head>

<body>
    <h1>消息接收与发送页面</h1>
    <button id="sendMessageButton">点击向父页面发送消息</button>
    <div id="messageDisplay">接收到的消息会显示在这里</div>

    <script>
        // 监听来自父页面的消息
       window.addEventListener('message', (e) => {
    if (e.data.type === 'FROM_PARENT') {
      console.log('收到父页面消息:', e.data.data);
      // 可回复消息
      window.parent.postMessage(
        { type: 'REPLY', data: 'Message Received' },
        e.origin
      );
                    const messageDisplay = document.getElementById('messageDisplay');
            messageDisplay.textContent = `接收到来自父页面的消息: JSON.stringify(e.data)`;
    }
  });
        // 点击按钮向父页面发送消息
        const sendMessageButton = document.getElementById('sendMessageButton');
        sendMessageButton.addEventListener('click', function () {
            const message = { type: 'childToParent', data: '这是来自子页面的消息' };
            window.parent.postMessage(message, '*');
        });
    </script>
</body>

</html>    
